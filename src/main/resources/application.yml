spring:
  application:
    name: debit-credit-gateway

server:
  port: 8080

gateway:
  tcp:
    host: ${TCP_HOST:localhost}
    port: ${TCP_PORT:5000}
    connection-timeout: 30000
    read-timeout: 30000
    max-connections: 10
    min-connections: 2
    keep-alive: true
    tcp-no-delay: true
    retry-attempts: 3
    retry-delay: 1000
    max-retry-delay: 10000
    length-header: true
    length-header-size: 2
    encoding: UTF-8
  
  iso:
    packager:
      type: custom
      config: classpath:iso8583/iso-packager.xml
  
  security:
    enabled: false
    api-key-header: X-API-Key
    api-keys: ${API_KEYS:key1,key2,key3}

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always

logging:
  level:
    com.gateway: DEBUG
    org.jpos: INFO
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
  file:
    name: logs/debit-credit-gateway.log
    max-size: 10MB
    max-history: 30